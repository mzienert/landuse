{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-form.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\n\ninterface SearchFormProps {\n  onSearch: (query: string, numResults: number) => void;\n  isLoading?: boolean;\n}\n\nexport function SearchForm({ onSearch, isLoading = false }: SearchFormProps) {\n  const [query, setQuery] = useState('');\n  const [numResults, setNumResults] = useState(5);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      onSearch(query.trim(), numResults);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"bg-white shadow-md rounded-lg p-6 mb-6\">\n      <div className=\"mb-4\">\n        <label htmlFor=\"query\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Search Query\n        </label>\n        <input\n          type=\"text\"\n          id=\"query\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder=\"Enter your search query (e.g., 'building permits', 'zoning requirements')\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          disabled={isLoading}\n        />\n      </div>\n      \n      <div className=\"mb-4\">\n        <label htmlFor=\"numResults\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Number of Results\n        </label>\n        <select\n          id=\"numResults\"\n          value={numResults}\n          onChange={(e) => setNumResults(parseInt(e.target.value))}\n          className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          disabled={isLoading}\n        >\n          <option value={3}>3 results</option>\n          <option value={5}>5 results</option>\n          <option value={10}>10 results</option>\n          <option value={15}>15 results</option>\n        </select>\n      </div>\n      \n      <button\n        type=\"submit\"\n        disabled={!query.trim() || isLoading}\n        className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed\"\n      >\n        {isLoading ? 'Searching...' : 'Search Land Use Code'}\n      </button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;;;AAAA;;;AASO,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,KAAK,EAAmB;IACzE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,MAAM,IAAI,IAAI;YAChB,SAAS,MAAM,IAAI,IAAI;QACzB;IACF;IAEA,qBACE,wXAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,wXAAC;gBAAI,WAAU;;kCACb,wXAAC;wBAAM,SAAQ;wBAAQ,WAAU;kCAA+C;;;;;;kCAGhF,wXAAC;wBACC,MAAK;wBACL,IAAG;wBACH,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;;;;;;;0BAId,wXAAC;gBAAI,WAAU;;kCACb,wXAAC;wBAAM,SAAQ;wBAAa,WAAU;kCAA+C;;;;;;kCAGrF,wXAAC;wBACC,IAAG;wBACH,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,SAAS,EAAE,MAAM,CAAC,KAAK;wBACtD,WAAU;wBACV,UAAU;;0CAEV,wXAAC;gCAAO,OAAO;0CAAG;;;;;;0CAClB,wXAAC;gCAAO,OAAO;0CAAG;;;;;;0CAClB,wXAAC;gCAAO,OAAO;0CAAI;;;;;;0CACnB,wXAAC;gCAAO,OAAO;0CAAI;;;;;;;;;;;;;;;;;;0BAIvB,wXAAC;gBACC,MAAK;gBACL,UAAU,CAAC,MAAM,IAAI,MAAM;gBAC3B,WAAU;0BAET,YAAY,iBAAiB;;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/text-formatter.ts"],"sourcesContent":["export interface FormattedTextSection {\n  type: 'heading' | 'section' | 'paragraph' | 'list-item' | 'metadata';\n  content: string;\n  level?: number;\n}\n\nexport function parseAndFormatText(text: string): FormattedTextSection[] {\n  const lines = text.split('\\n').filter(line => line.trim());\n  const sections: FormattedTextSection[] = [];\n  let currentParagraph: string[] = [];\n\n  const flushParagraph = () => {\n    if (currentParagraph.length > 0) {\n      sections.push({\n        type: 'paragraph',\n        content: currentParagraph.join(' ')\n      });\n      currentParagraph = [];\n    }\n  };\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i].trim();\n    \n    if (!line) continue;\n\n    // Chapter/Article headings (all caps, contains \"Chapter\" or \"Article\")\n    if (line.includes('Chapter') && line === line.toUpperCase()) {\n      flushParagraph();\n      sections.push({\n        type: 'heading',\n        content: line,\n        level: 1\n      });\n    }\n    // Article headings\n    else if (line.includes('Article') && line === line.toUpperCase()) {\n      flushParagraph();\n      sections.push({\n        type: 'heading',\n        content: line,\n        level: 2\n      });\n    }\n    // Section numbers (Sec. X-XX.)\n    else if (/^Sec\\.\\s+\\d+[-\\d]*\\.?$/.test(line)) {\n      flushParagraph();\n      sections.push({\n        type: 'section',\n        content: line\n      });\n    }\n    // Subsection numbers (like \"105.3 Application for permit.\")\n    else if (/^\\d+\\.\\d+\\s+/.test(line)) {\n      flushParagraph();\n      sections.push({\n        type: 'section',\n        content: line\n      });\n    }\n    // Metadata (parentheses with resolution info or effective dates)\n    else if (line.startsWith('(') && line.endsWith(')')) {\n      flushParagraph();\n      sections.push({\n        type: 'metadata',\n        content: line\n      });\n    }\n    // Effective dates\n    else if (line.startsWith('Effective on:')) {\n      flushParagraph();\n      sections.push({\n        type: 'metadata',\n        content: line\n      });\n    }\n    // List items (start with numbers, letters, or bullets)\n    else if (/^[\\d]+\\.\\s/.test(line) || line.startsWith('â€¢') || line.startsWith('-')) {\n      flushParagraph();\n      sections.push({\n        type: 'list-item',\n        content: line\n      });\n    }\n    // Continue building paragraph - collect lines that should flow together\n    else {\n      currentParagraph.push(line);\n    }\n  }\n\n  // Flush any remaining paragraph\n  flushParagraph();\n\n  return sections;\n}\n\nexport function formatTextForDisplay(text: string, maxLength?: number): string {\n  // If no max length specified, return formatted version\n  if (!maxLength) {\n    return text.replace(/\\n/g, '\\n').trim();\n  }\n\n  // For truncated text, try to break at a natural point\n  if (text.length <= maxLength) {\n    return text.replace(/\\n/g, '\\n').trim();\n  }\n\n  const truncated = text.substring(0, maxLength);\n  \n  // Try to break at the end of a sentence\n  const lastSentence = truncated.lastIndexOf('.');\n  if (lastSentence > maxLength * 0.7) {\n    return truncated.substring(0, lastSentence + 1).replace(/\\n/g, '\\n').trim();\n  }\n\n  // Try to break at the end of a line\n  const lastNewline = truncated.lastIndexOf('\\n');\n  if (lastNewline > maxLength * 0.7) {\n    return truncated.substring(0, lastNewline).replace(/\\n/g, '\\n').trim();\n  }\n\n  // Fall back to word boundary\n  const lastSpace = truncated.lastIndexOf(' ');\n  if (lastSpace > maxLength * 0.8) {\n    return truncated.substring(0, lastSpace).replace(/\\n/g, '\\n').trim();\n  }\n\n  return truncated.replace(/\\n/g, '\\n').trim();\n}"],"names":[],"mappings":";;;;AAMO,SAAS,mBAAmB,IAAY;IAC7C,MAAM,QAAQ,KAAK,KAAK,CAAC,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI;IACvD,MAAM,WAAmC,EAAE;IAC3C,IAAI,mBAA6B,EAAE;IAEnC,MAAM,iBAAiB;QACrB,IAAI,iBAAiB,MAAM,GAAG,GAAG;YAC/B,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS,iBAAiB,IAAI,CAAC;YACjC;YACA,mBAAmB,EAAE;QACvB;IACF;IAEA,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACrC,MAAM,OAAO,KAAK,CAAC,EAAE,CAAC,IAAI;QAE1B,IAAI,CAAC,MAAM;QAEX,uEAAuE;QACvE,IAAI,KAAK,QAAQ,CAAC,cAAc,SAAS,KAAK,WAAW,IAAI;YAC3D;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;gBACT,OAAO;YACT;QACF,OAEK,IAAI,KAAK,QAAQ,CAAC,cAAc,SAAS,KAAK,WAAW,IAAI;YAChE;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;gBACT,OAAO;YACT;QACF,OAEK,IAAI,yBAAyB,IAAI,CAAC,OAAO;YAC5C;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF,OAEK,IAAI,eAAe,IAAI,CAAC,OAAO;YAClC;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF,OAEK,IAAI,KAAK,UAAU,CAAC,QAAQ,KAAK,QAAQ,CAAC,MAAM;YACnD;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF,OAEK,IAAI,KAAK,UAAU,CAAC,kBAAkB;YACzC;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF,OAEK,IAAI,aAAa,IAAI,CAAC,SAAS,KAAK,UAAU,CAAC,QAAQ,KAAK,UAAU,CAAC,MAAM;YAChF;YACA,SAAS,IAAI,CAAC;gBACZ,MAAM;gBACN,SAAS;YACX;QACF,OAEK;YACH,iBAAiB,IAAI,CAAC;QACxB;IACF;IAEA,gCAAgC;IAChC;IAEA,OAAO;AACT;AAEO,SAAS,qBAAqB,IAAY,EAAE,SAAkB;IACnE,uDAAuD;IACvD,IAAI,CAAC,WAAW;QACd,OAAO,KAAK,OAAO,CAAC,OAAO,MAAM,IAAI;IACvC;IAEA,sDAAsD;IACtD,IAAI,KAAK,MAAM,IAAI,WAAW;QAC5B,OAAO,KAAK,OAAO,CAAC,OAAO,MAAM,IAAI;IACvC;IAEA,MAAM,YAAY,KAAK,SAAS,CAAC,GAAG;IAEpC,wCAAwC;IACxC,MAAM,eAAe,UAAU,WAAW,CAAC;IAC3C,IAAI,eAAe,YAAY,KAAK;QAClC,OAAO,UAAU,SAAS,CAAC,GAAG,eAAe,GAAG,OAAO,CAAC,OAAO,MAAM,IAAI;IAC3E;IAEA,oCAAoC;IACpC,MAAM,cAAc,UAAU,WAAW,CAAC;IAC1C,IAAI,cAAc,YAAY,KAAK;QACjC,OAAO,UAAU,SAAS,CAAC,GAAG,aAAa,OAAO,CAAC,OAAO,MAAM,IAAI;IACtE;IAEA,6BAA6B;IAC7B,MAAM,YAAY,UAAU,WAAW,CAAC;IACxC,IAAI,YAAY,YAAY,KAAK;QAC/B,OAAO,UAAU,SAAS,CAAC,GAAG,WAAW,OAAO,CAAC,OAAO,MAAM,IAAI;IACpE;IAEA,OAAO,UAAU,OAAO,CAAC,OAAO,MAAM,IAAI;AAC5C"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-results.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { SearchResult } from '../lib/search-service';\nimport { parseAndFormatText, formatTextForDisplay, FormattedTextSection } from '../lib/text-formatter';\n\ninterface SearchResultsProps {\n  results: SearchResult[];\n  query: string;\n  isLoading?: boolean;\n  error?: string;\n}\n\nfunction FormattedTextDisplay({ sections }: { sections: FormattedTextSection[] }) {\n  return (\n    <div className=\"space-y-2\">\n      {sections.map((section, idx) => {\n        switch (section.type) {\n          case 'heading':\n            return (\n              <div \n                key={idx} \n                className={`font-bold text-gray-900 ${\n                  section.level === 1 ? 'text-base' : 'text-sm'\n                } ${idx > 0 ? 'mt-4' : ''}`}\n              >\n                {section.content}\n              </div>\n            );\n          case 'section':\n            return (\n              <div key={idx} className=\"font-semibold text-blue-700 text-sm mt-3\">\n                {section.content}\n              </div>\n            );\n          case 'metadata':\n            return (\n              <div key={idx} className=\"text-xs text-gray-500 italic\">\n                {section.content}\n              </div>\n            );\n          case 'list-item':\n            return (\n              <div key={idx} className=\"text-sm text-gray-700 ml-4\">\n                {section.content}\n              </div>\n            );\n          default:\n            return (\n              <div key={idx} className=\"text-sm text-gray-700 leading-relaxed\">\n                {section.content}\n              </div>\n            );\n        }\n      })}\n    </div>\n  );\n}\n\nexport function SearchResults({ results, query, isLoading = false, error }: SearchResultsProps) {\n  const [expandedResults, setExpandedResults] = useState<Set<number>>(new Set());\n\n  const toggleExpanded = (index: number) => {\n    const newExpanded = new Set(expandedResults);\n    if (newExpanded.has(index)) {\n      newExpanded.delete(index);\n    } else {\n      newExpanded.add(index);\n    }\n    setExpandedResults(newExpanded);\n  };\n  if (isLoading) {\n    return (\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          <div className=\"space-y-4\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"border-b pb-4\">\n                <div className=\"h-4 bg-gray-200 rounded w-1/6 mb-2\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-full mb-1\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-3/4\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <div className=\"text-red-600 bg-red-50 border border-red-200 rounded-md p-4\">\n          <h3 className=\"font-medium mb-2\">Search Error</h3>\n          <p className=\"text-sm\">{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!results.length && query) {\n    return (\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <div className=\"text-gray-500 text-center py-8\">\n          <p className=\"text-lg mb-2\">No results found</p>\n          <p className=\"text-sm\">Try a different search query or check if the API is running.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!query) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-white shadow-md rounded-lg p-6\">\n      <div className=\"mb-4\">\n        <h2 className=\"text-lg font-semibold text-gray-900\">\n          Search Results for \"{query}\"\n        </h2>\n        <p className=\"text-sm text-gray-600\">{results.length} result(s) found</p>\n      </div>\n      \n      <div className=\"space-y-4\">\n        {results.map((result, index) => (\n          <div key={index} className=\"border-b border-gray-200 pb-4 last:border-b-0\">\n            <div className=\"flex justify-between items-start mb-2\">\n              <h3 className=\"font-medium text-blue-600\">\n                Section {result.section}\n              </h3>\n              <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                Relevance: {parseFloat(result.relevance).toFixed(3)}\n              </span>\n            </div>\n            <div>\n              {result.text.length > 500 ? (\n                <div>\n                  <FormattedTextDisplay \n                    sections={parseAndFormatText(\n                      expandedResults.has(index) \n                        ? result.text \n                        : formatTextForDisplay(result.text, 500)\n                    )}\n                  />\n                  {!expandedResults.has(index) && (\n                    <span className=\"text-gray-500 text-sm\">... </span>\n                  )}\n                  <button \n                    onClick={() => toggleExpanded(index)}\n                    className=\"text-blue-600 hover:text-blue-800 text-xs ml-1 inline-block mt-2\"\n                  >\n                    {expandedResults.has(index) ? 'Show less' : 'Read more'}\n                  </button>\n                </div>\n              ) : (\n                <FormattedTextDisplay sections={parseAndFormatText(result.text)} />\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/search-service.ts"],"sourcesContent":["export interface SearchResult {\n  section: string;\n  text: string;\n  relevance: string;\n}\n\nexport interface SearchResponse {\n  query: string;\n  results: SearchResult[];\n}\n\nexport interface SearchError {\n  error: string;\n}\n\nexport class SearchService {\n  private static readonly BASE_URL = 'http://localhost:8000';\n\n  static async searchLandUseCode(\n    query: string, \n    numResults: number = 5\n  ): Promise<SearchResponse> {\n    if (!query.trim()) {\n      throw new Error('Query cannot be empty');\n    }\n\n    const url = new URL(`${this.BASE_URL}/search/simple`);\n    url.searchParams.set('query', query.trim());\n    url.searchParams.set('num_results', numResults.toString());\n\n    try {\n      const response = await fetch(url.toString(), {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        // Add timeout\n        signal: AbortSignal.timeout(30000), // 30 second timeout\n      });\n\n      if (!response.ok) {\n        const errorData: SearchError = await response.json().catch(() => ({\n          error: `HTTP ${response.status}: ${response.statusText}`\n        }));\n        throw new Error(errorData.error || `Search request failed: ${response.statusText}`);\n      }\n\n      const data: SearchResponse = await response.json();\n      \n      // Validate response structure\n      if (!data.query || !Array.isArray(data.results)) {\n        throw new Error('Invalid response format from search API');\n      }\n\n      return data;\n    } catch (error) {\n      if (error instanceof Error) {\n        // Handle specific error types\n        if (error.name === 'TimeoutError') {\n          throw new Error('Search request timed out. Please try again.');\n        }\n        if (error.name === 'TypeError' && error.message.includes('fetch')) {\n          throw new Error('Unable to connect to search service. Please ensure the API is running.');\n        }\n        throw error;\n      }\n      throw new Error('An unexpected error occurred during search');\n    }\n  }\n\n  static async checkApiHealth(): Promise<boolean> {\n    try {\n      const response = await fetch(`${this.BASE_URL}/health`, {\n        method: 'GET',\n        signal: AbortSignal.timeout(5000), // 5 second timeout for health check\n      });\n      return response.ok;\n    } catch {\n      return false;\n    }\n  }\n}"],"names":[],"mappings":";;;AAeO,MAAM;IACX,OAAwB,WAAW,wBAAwB;IAE3D,aAAa,kBACX,KAAa,EACb,aAAqB,CAAC,EACG;QACzB,IAAI,CAAC,MAAM,IAAI,IAAI;YACjB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,MAAM,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;QACpD,IAAI,YAAY,CAAC,GAAG,CAAC,SAAS,MAAM,IAAI;QACxC,IAAI,YAAY,CAAC,GAAG,CAAC,eAAe,WAAW,QAAQ;QAEvD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,IAAI,QAAQ,IAAI;gBAC3C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,cAAc;gBACd,QAAQ,YAAY,OAAO,CAAC;YAC9B;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAyB,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;wBAChE,OAAO,CAAC,KAAK,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,CAAC,CAAC;oBAC1D,CAAC;gBACD,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI,CAAC,uBAAuB,EAAE,SAAS,UAAU,CAAC,CAAC;YACpF;YAEA,MAAM,OAAuB,MAAM,SAAS,IAAI;YAEhD,8BAA8B;YAC9B,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;gBAC/C,MAAM,IAAI,MAAM;YAClB;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,OAAO;gBAC1B,8BAA8B;gBAC9B,IAAI,MAAM,IAAI,KAAK,gBAAgB;oBACjC,MAAM,IAAI,MAAM;gBAClB;gBACA,IAAI,MAAM,IAAI,KAAK,eAAe,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU;oBACjE,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM;YACR;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,aAAa,iBAAmC;QAC9C,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;gBACtD,QAAQ;gBACR,QAAQ,YAAY,OAAO,CAAC;YAC9B;YACA,OAAO,SAAS,EAAE;QACpB,EAAE,OAAM;YACN,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/protected/grid-parser-dashboard.tsx"],"sourcesContent":["'use client';\nimport React, { useState } from 'react';\nimport { SearchForm } from '../../components/search-form';\nimport { SearchResults } from '../../components/search-results';\nimport { SearchService, SearchResult } from '../../lib/search-service';\n\ninterface LandUseCodeDashboardProps {\n  userId: string;\n}\n\nexport function LandUseCodeDashboard({ userId }: LandUseCodeDashboardProps) {\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [query, setQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSearch = async (searchQuery: string, numResults: number) => {\n    setIsLoading(true);\n    setError(null);\n    setQuery(searchQuery);\n    \n    try {\n      const response = await SearchService.searchLandUseCode(searchQuery, numResults);\n      setResults(response.results);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred during search');\n      setResults([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n          La Plata County Land Use Code Search\n        </h2>\n        <p className=\"text-gray-600\">\n          Search through county regulations using natural language queries. \n          Try searches like \"building permits\", \"zoning requirements\", or \"subdivision regulations\".\n        </p>\n      </div>\n      \n      <SearchForm onSearch={handleSearch} isLoading={isLoading} />\n      \n      <SearchResults \n        results={results} \n        query={query} \n        isLoading={isLoading} \n        error={error} \n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAUO,SAAS,qBAAqB,EAAE,MAAM,EAA6B;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,+UAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,eAAe,OAAO,aAAqB;QAC/C,aAAa;QACb,SAAS;QACT,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,wHAAA,CAAA,gBAAa,CAAC,iBAAiB,CAAC,aAAa;YACpE,WAAW,SAAS,OAAO;QAC7B,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,WAAW,EAAE;QACf,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,wXAAC;QAAI,WAAU;;0BACb,wXAAC;;kCACC,wXAAC;wBAAG,WAAU;kCAAwC;;;;;;kCAGtD,wXAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAM/B,wXAAC,6HAAA,CAAA,aAAU;gBAAC,UAAU;gBAAc,WAAW;;;;;;0BAE/C,wXAAC,gIAAA,CAAA,gBAAa;gBACZ,SAAS;gBACT,OAAO;gBACP,WAAW;gBACX,OAAO;;;;;;;;;;;;AAIf"}},
    {"offset": {"line": 751, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 759, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/next@14.2.31_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/src/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["unable to read source [project]/node_modules/.pnpm/next@14.2.31_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/src/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,qNAAiCC,QAAQ,CACxD,YACD,CAACC,kBAAkB"}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}